{"name":"ssl-key-vault","description":"SSL key & certificate storage in chef-vault","long_description":"ssl-key-vault cookbook\n======================\n\nThis cookbook manages OpenSSL key pairs, using\n[chef-vault](https://github.com/Nordstrom/chef-vault/) to share and\nstore private keys.\n\nThis cookbook's home is at https://github.com/3ofcoins/ssl-key-vault/\n\nRequirements\n------------\n\nUsage\n-----\n\n1. Generate a self-signed key or a secret key and certificate.\n2. Store the private key in chef-vault. The name should be set to\n   *ssl-key-key.name*.:\n\n    $ ruby -rjson -e 'puts JSON[Hash[Hash[*ARGV].map { |k,v| [k, File.read(v)] }]]' -- \\\n        chain.pem example.com.chain.pem \\\n        crt example.com.crt \\\n        csr example.com.csr \\\n        key example.com.key \\\n        pem example.com.pem \\\n        > example.com.json\n\n    $ knife encrypt create certs --mode client \\\n      --search 'QUERY' --admins '' \\\n      --name ssl-key-example_com \\\n      --json /path/to/example.com.json\n    \n   Either add Chef server's admin API users to the `--admins`, or make\n   the key otherwise accessible to yourself in future (e.g. with\n   [knife-briefcase](https://github.com/3ofcoins/knife-briefcase/)).\n\n3. Add the certificate to node's `ssl_certificates` attribute (key is\n   key's name, and value is full certificate):\n\n```ruby\ndefault_attributes :ssl_certificates => {\n  'example.com' => true\n}\n```\n\n4. Add `recipe[ssl-key-vault]` to node's run list.\n\nThe key will be stored in `/etc/ssl/private/key.name.key`, and\ncertificate in `/etc/ssl/certs/key.name.pem`.\n\nTODOs & questions\n-----------------\n\nI don't have much of idea currently how to add tests, with chef-vault,\nencrypted data bags, and such.\n\nAuthor\n------\n\nAuthor:: Maciej Pasternacki <maciej@3ofcoins.net>\n","maintainer":"Maciej Pasternacki","maintainer_email":"maciej@3ofcoins.net","license":"MIT","platforms":{"ubuntu":">= 0.0.0"},"dependencies":{},"recommendations":{},"suggestions":{},"conflicting":{},"providing":{},"replacing":{},"attributes":{},"groupings":{},"recipes":{},"version":"0.2.2"}